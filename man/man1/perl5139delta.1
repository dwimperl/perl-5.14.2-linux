.\" Automatically generated by Pod::Man 2.25 (Pod::Simple 3.16)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "PERL5139DELTA 1"
.TH PERL5139DELTA 1 "2011-09-26" "perl v5.14.2" "Perl Programmers Reference Guide"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
perl5139delta \- what is new for perl v5.13.9
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
This document describes differences between the 5.13.8 release and
the 5.13.9 release.
.PP
If you are upgrading from an earlier release such as 5.13.7, first read
perl5138delta, which describes differences between 5.13.7 and
5.13.8.
.SH "Core Enhancements"
.IX Header "Core Enhancements"
.ie n .SS "New regular expression modifier ""/a"""
.el .SS "New regular expression modifier \f(CW/a\fP"
.IX Subsection "New regular expression modifier /a"
The \f(CW\*(C`/a\*(C'\fR regular expression modifier restricts \f(CW\*(C`\es\*(C'\fR to match precisely
the five characters \f(CW\*(C`[ \ef\en\er\et]\*(C'\fR, \f(CW\*(C`\ed\*(C'\fR to match precisely the 10
characters \f(CW\*(C`[0\-9]\*(C'\fR, \f(CW\*(C`\ew\*(C'\fR to match precisely the 63 characters
\&\f(CW\*(C`[A\-Za\-z0\-9_]\*(C'\fR, and the Posix (\f(CW\*(C`[[:posix:]]\*(C'\fR) character classes to
match only the appropriate \s-1ASCII\s0 characters.  The complements, of
course, match everything but; and \f(CW\*(C`\eb\*(C'\fR and \f(CW\*(C`\eB\*(C'\fR are correspondingly
affected.  Otherwise, \f(CW\*(C`/a\*(C'\fR behaves like the \f(CW\*(C`/u\*(C'\fR modifier, in that
case-insensitive matching uses Unicode semantics; for example, \*(L"k\*(R" will
match the Unicode \f(CW\*(C`\eN{KELVIN SIGN}\*(C'\fR under \f(CW\*(C`/i\*(C'\fR matching, and code
points in the Latin1 range, above \s-1ASCII\s0 will have Unicode semantics when
it comes to case-insensitive matching.  Like its cousins (\f(CW\*(C`/u\*(C'\fR, \f(CW\*(C`/l\*(C'\fR,
and \f(CW\*(C`/d\*(C'\fR), and in spite of the terminology, \f(CW\*(C`/a\*(C'\fR in 5.14 will not
actually be able to be used as a suffix at the end of a regular
expression (this restriction is planned to be lifted in 5.16).  It must
occur either as an infix modifier, such as \f(CW\*(C`(?a:...)\*(C'\fR or (\f(CW\*(C`(?a)...\*(C'\fR,
or it can be turned on within the lexical scope of \f(CW\*(C`use re \*(Aq/a\*(Aq\*(C'\fR.
Turning on \f(CW\*(C`/a\*(C'\fR turns off the other \*(L"character set\*(R" modifiers.
.SS "Any unsigned value can be encoded as a character"
.IX Subsection "Any unsigned value can be encoded as a character"
With this release, Perl is adopting a model that any unsigned value can
be treated as a code point and encoded internally (as utf8) without
warnings \*(-- not just the code points that are legal in Unicode.
However, unless utf8 warnings have been
explicitly lexically turned off, outputting or performing a
Unicode-defined operation (such as upper-casing) on such a code point
will generate a warning.  Attempting to input these using strict rules
(such as with the \f(CW\*(C`:encoding(\*(AqUTF\-8\*(Aq)\*(C'\fR layer) will continue to fail.
Prior to this release the handling was very inconsistent, and incorrect
in places.  Also, the Unicode non-characters, some of which previously were
erroneously considered illegal in places by Perl, contrary to the Unicode
standard, are now always legal internally.  But inputting or outputting
them will work the same as for the non-legal Unicode code points, as the
Unicode standard says they are illegal for \*(L"open interchange\*(R".
.SS "Regular expression debugging output improvement"
.IX Subsection "Regular expression debugging output improvement"
Regular expression debugging output (turned on by \f(CW\*(C`use re \*(Aqdebug\*(Aq;\*(C'\fR) now
uses hexadecimal when escaping non-ASCII characters, instead of octal.
.SH "Security"
.IX Header "Security"
.SS "Restrict \ep{IsUserDefined} to In\ew+ and Is\ew+"
.IX Subsection "Restrict p{IsUserDefined} to Inw+ and Isw+"
In \*(L"User-Defined Character Properties\*(R" in perlunicode, it says you can
create custom properties by defining subroutines whose names begin with
\&\*(L"In\*(R" or \*(L"Is\*(R". However, perl doesn't actually enforce that naming
restriction, so \ep{foo::bar} will call \fIfoo::Bar()\fR if it exists.
.PP
This commit finally enforces this convention. Note that this broke a
number of existing tests for properties, since they didn't always use an
Is/In prefix.
.SH "Incompatible Changes"
.IX Header "Incompatible Changes"
.SS "All objects are destroyed"
.IX Subsection "All objects are destroyed"
It used to be possible to prevent a destructor from being called during
global destruction by artificially increasing the reference count of an
object.
.PP
Now such objects \fIwill\fR will be destroyed, as a result of a bug fix
[perl #81230] <http://rt.perl.org/rt3/Public/Bug/Display.html?id=81230>.
.PP
This has the potential to break some \s-1XS\s0 modules. (In fact, it break some.
See \*(L"Known Problems\*(R", below.)
.SH "Modules and Pragmata"
.IX Header "Modules and Pragmata"
.SS "New Modules and Pragmata"
.IX Subsection "New Modules and Pragmata"
.IP "\(bu" 4
\&\f(CW\*(C`CPAN::Meta::YAML\*(C'\fR 0.003 has been added as a dual-life module.  It supports a
subset of \s-1YAML\s0 sufficient for reading and writing \s-1META\s0.yml and \s-1MYMETA\s0.yml files
included with \s-1CPAN\s0 distributions or generated by the module installation
toolchain. It should not be used for any other general \s-1YAML\s0 parsing or
generation task.
.IP "\(bu" 4
\&\f(CW\*(C`HTTP::Tiny\*(C'\fR 0.009 has been added as a dual-life module.  It is a very
small, simple \s-1HTTP/1\s0.1 client designed for simple \s-1GET\s0 requests and file
mirroring.  It has has been added to enable \s-1CPAN\s0.pm and \s-1CPANPLUS\s0 to
\&\*(L"bootstrap\*(R" \s-1HTTP\s0 access to \s-1CPAN\s0 using pure Perl without relying on external
binaries like \fIcurl\fR or \fIwget\fR.
.IP "\(bu" 4
\&\f(CW\*(C`JSON::PP\*(C'\fR 2.27103 has been added as a dual-life module, for the sake of
reading \fI\s-1META\s0.json\fR files in \s-1CPAN\s0 distributions.
.IP "\(bu" 4
\&\f(CW\*(C`Module::Metadata\*(C'\fR 1.000003 has been added as a dual-life module.  It gathers
package and \s-1POD\s0 information from Perl module files.  It is a standalone module
based on Module::Build::ModuleInfo for use by other module installation
toolchain components.  Module::Build::ModuleInfo has been deprecated in
favor of this module instead.
.IP "\(bu" 4
\&\f(CW\*(C`Perl::OSType\*(C'\fR 1.002 has been added as a dual-life module.  It maps Perl
operating system names (e.g. 'dragonfly' or 'MSWin32') to more generic types
with standardized names (e.g.  \*(L"Unix\*(R" or \*(L"Windows\*(R").  It has been refactored
out of Module::Build and ExtUtils::CBuilder and consolidates such mappings into
a single location for easier maintenance.
.SS "Updated Modules and Pragmata"
.IX Subsection "Updated Modules and Pragmata"
.IP "\(bu" 4
\&\f(CW\*(C`Archive::Extract\*(C'\fR has been upgraded from version 0.46 to 0.48
.IP "\(bu" 4
\&\f(CW\*(C`Archive::Tar\*(C'\fR has been upgraded from version 1.74 to 1.76
.IP "\(bu" 4
\&\f(CW\*(C`CGI\*(C'\fR has been upgraded from version 3.50 to 3.51
.Sp
Further improvements have been made to guard against newline injections
in headers.
.IP "\(bu" 4
\&\f(CW\*(C`Compress::Raw::Bzip2\*(C'\fR has been upgraded from version 2.031 to 2.033
.IP "\(bu" 4
\&\f(CW\*(C`Compress::Raw::Zlib\*(C'\fR has been upgraded from version 2.030 to 2.033
.IP "\(bu" 4
\&\f(CW\*(C`CPAN\*(C'\fR has been upgraded from version 1.94_62 to 1.94_63
.IP "\(bu" 4
\&\f(CW\*(C`CPANPLUS\*(C'\fR has been upgraded from version 0.9010 to 0.9011
.IP "\(bu" 4
\&\f(CW\*(C`CPANPLUS::Dist::Build\*(C'\fR has been upgraded from version 0.50 to 0.52
.IP "\(bu" 4
\&\f(CW\*(C`DB_File\*(C'\fR has been upgraded from version 1.820 to 1.821
.IP "\(bu" 4
\&\f(CW\*(C`Encode\*(C'\fR has been upgraded from version 2.40 to 2.42.
Now, all 66 Unicode non-characters are treated the same way U+FFFF has
always been treated; if it was disallowed, all 66 are disallowed; if it
warned, all 66 warn.
.IP "\(bu" 4
\&\f(CW\*(C`File::Fetch\*(C'\fR has been upgraded from version 0.28 to 0.32
.IP "\(bu" 4
\&\f(CW\*(C`IO::Compress\*(C'\fR has been upgraded from version 2.030 to 2.033
.IP "\(bu" 4
\&\f(CW\*(C`IPC::Cmd\*(C'\fR has been upgraded from version 0.66 to 0.68
.IP "\(bu" 4
\&\f(CW\*(C`Log::Message\*(C'\fR has been upgraded from version 0.02 to 0.04
.IP "\(bu" 4
\&\f(CW\*(C`Log::Message::Simple\*(C'\fR has been upgraded from version 0.06 to 0.08
.IP "\(bu" 4
\&\f(CW\*(C`Module::Load::Conditional\*(C'\fR has been upgraded from version 0.38 to 0.40
.IP "\(bu" 4
\&\f(CW\*(C`Object::Accessor\*(C'\fR has been upgraded from version 0.36 to 0.38
.IP "\(bu" 4
\&\f(CW\*(C`Params::Check\*(C'\fR has been upgraded from version 0.26 to 0.28
.IP "\(bu" 4
\&\f(CW\*(C`Pod::LaTeX\*(C'\fR has been upgraded from version 0.58 to 0.59
.IP "\(bu" 4
\&\f(CW\*(C`Socket\*(C'\fR has been updated with new affordances for IPv6,
including implementations of the \f(CW\*(C`Socket::getaddrinfo()\*(C'\fR and
\&\f(CW\*(C`Socket::getnameinfo()\*(C'\fR functions, along with related constants.
.IP "\(bu" 4
\&\f(CW\*(C`Term::UI\*(C'\fR has been upgraded from version 0.20 to 0.24
.IP "\(bu" 4
\&\f(CW\*(C`Thread::Queue\*(C'\fR has been upgraded from version 2.11 to 2.12.
.IP "\(bu" 4
\&\f(CW\*(C`Thread::Semaphore\*(C'\fR has been upgraded from version 2.11 to 2.12.
.IP "\(bu" 4
\&\f(CW\*(C`threads\*(C'\fR has been upgraded from version 1.81_03 to 1.82
.IP "\(bu" 4
\&\f(CW\*(C`threads::shared\*(C'\fR has been upgraded from version 1.35 to 1.36
.IP "\(bu" 4
\&\f(CW\*(C`Time::Local\*(C'\fR has been upgraded from version 1.1901_01 to 1.2000.
.IP "\(bu" 4
\&\f(CW\*(C`Unicode::Normalize\*(C'\fR has been upgraded from version 1.07 to 1.10
.IP "\(bu" 4
\&\f(CW\*(C`version\*(C'\fR has been upgraded from 0.86 to 0.88.
.IP "\(bu" 4
\&\f(CW\*(C`Win32\*(C'\fR has been upgraded from version 0.41 to 0.44.
.SH "Documentation"
.IX Header "Documentation"
.SS "Changes to Existing Documentation"
.IX Subsection "Changes to Existing Documentation"
\fIAll documentation\fR
.IX Subsection "All documentation"
.IP "\(bu" 4
Numerous \s-1POD\s0 warnings were fixed.
.IP "\(bu" 4
Many, many spelling errors and typographical mistakes were corrected throughout Perl's core.
.PP
\fI\f(CI\*(C`perlhack\*(C'\fI\fR
.IX Subsection "perlhack"
.IP "\(bu" 4
\&\f(CW\*(C`perlhack\*(C'\fR was extensively reorganized.
.PP
\fI\f(CI\*(C`perlfunc\*(C'\fI\fR
.IX Subsection "perlfunc"
.IP "\(bu" 4
It has now been documented that \f(CW\*(C`ord\*(C'\fR returns 0 for an empty string.
.SH "Diagnostics"
.IX Header "Diagnostics"
The following additions or changes have been made to diagnostic output,
including warnings and fatal error messages.  For the complete list of
diagnostic messages, see perldiag.
.SS "New Diagnostics"
.IX Subsection "New Diagnostics"
.IP "\(bu" 4
Performing an operation requiring Unicode semantics (such as case-folding)
on a Unicode surrogate or a non-Unicode character now triggers a warning:
\&'Operation \*(L"%s\*(R" returns its argument for ...'.
.SS "Changes to Existing Diagnostics"
.IX Subsection "Changes to Existing Diagnostics"
.IP "\(bu" 4
Previously, if none of the \f(CW\*(C`gethostbyaddr\*(C'\fR, \f(CW\*(C`gethostbyname\*(C'\fR and
\&\f(CW\*(C`gethostent\*(C'\fR functions were implemented on a given platform, they would
all die with the message 'Unsupported socket function \*(L"gethostent\*(R" called',
with analogous messages for \f(CW\*(C`getnet*\*(C'\fR and \f(CW\*(C`getserv*\*(C'\fR. This has been
corrected.
.SH "Utility Changes"
.IX Header "Utility Changes"
\fI\f(CI\*(C`perlbug\*(C'\fI\fR
.IX Subsection "perlbug"
.IP "\(bu" 4
\&\f(CW\*(C`perlbug\*(C'\fR did not previously generate a From: header, potentially
resulting in dropped mail. Now it does include that header.
.PP
\fI\f(CI\*(C`buildtoc\*(C'\fI\fR
.IX Subsection "buildtoc"
.IP "\(bu" 4
\&\fIpod/buildtoc\fR has been modernized and can now be used to test the
well-formedness of \fIpod/perltoc.pod\fR automatically.
.SH "Testing"
.IX Header "Testing"
.IP "\(bu" 4
\&\f(CW\*(C`lib/File/DosGlob.t\*(C'\fR has been modernized and now uses \f(CW\*(C`Test::More\*(C'\fR.
.IP "\(bu" 4
A new test script, \f(CW\*(C`t/porting/filenames.t\*(C'\fR, makes sure that filenames and
paths are reasonably portable.
.IP "\(bu" 4
\&\f(CW\*(C`t/porting/diag.t\*(C'\fR is now several orders of magnitude faster.
.IP "\(bu" 4
\&\f(CW\*(C`t/porting/buildtoc.t\*(C'\fR now tests that the documentation \s-1TOC\s0 file is current and well-formed.
.IP "\(bu" 4
\&\f(CW\*(C`t/base/while.t\*(C'\fR now tests the basics of a while loop with minimal dependencies.
.IP "\(bu" 4
\&\f(CW\*(C`t/cmd/while.t\*(C'\fR now uses \fItest.pl\fR for better maintainability.
.IP "\(bu" 4
\&\f(CW\*(C`t/op/split.t\*(C'\fR now tests calls to \f(CW\*(C`split\*(C'\fR without any pattern specified.
.SH "Platform Support"
.IX Header "Platform Support"
.SS "Discontinued Platforms"
.IX Subsection "Discontinued Platforms"
.IP "Apollo DomainOS" 4
.IX Item "Apollo DomainOS"
The last vestiges of support for this platform have been excised from the
Perl distribution. It was officially discontinued in version 5.12.0. It had
not worked for years before that.
.IP "MacOS Classic" 4
.IX Item "MacOS Classic"
The last vestiges of support for this platform have been excised from the
Perl distribution. It was officially discontinued in an earlier version.
.SS "Platform-Specific Notes"
.IX Subsection "Platform-Specific Notes"
.IP "Cygwin" 4
.IX Item "Cygwin"
.RS 4
.PD 0
.IP "\(bu" 4
.PD
Updated MakeMaker to build man pages on cygwin.
.IP "\(bu" 4
Improved rebase behaviour
.Sp
If a dll is updated on cygwin reuse the old imagebase address.
This solves most rebase errors, esp when updating on core dll's.
See http://www.tishler.net/jason/software/rebase/rebase\-2.4.2.README <http://www.tishler.net/jason/software/rebase/rebase-2.4.2.README> for more information.
.IP "\(bu" 4
Support the standard cyg dll prefix, which is e.g. needed for \s-1FFI\s0's.
.IP "\(bu" 4
Updated build hints file
.RE
.RS 4
.RE
.IP "Solaris" 4
.IX Item "Solaris"
DTrace is now supported on Solaris. There used to be build failures, but
these have been fixed
[perl #73630] <http://rt.perl.org/rt3/Public/Bug/Display.html?id=73630>.
.SH "Internal Changes"
.IX Header "Internal Changes"
.IP "\(bu" 4
The opcode bodies for \f(CW\*(C`chop\*(C'\fR and \f(CW\*(C`chomp\*(C'\fR and for \f(CW\*(C`schop\*(C'\fR and \f(CW\*(C`schomp\*(C'\fR have
been merged. The implementation functions \f(CW\*(C`Perl_do_chop()\*(C'\fR and
\&\f(CW\*(C`Perl_do_chomp()\*(C'\fR, never part of the public \s-1API\s0, have been merged and moved to
a static function in \fIpp.c\fR. This shrinks the perl binary slightly, and should
not affect any code outside the core (unless it is relying on the order of side
effects when \f(CW\*(C`chomp\*(C'\fR is passed a \fIlist\fR of values).
.IP "\(bu" 4
Some of the flags parameters to the \fIuvuni_to_utf8_flags()\fR and
\&\fIutf8n_to_uvuni()\fR have changed.  This is a result of Perl now allowing
internal storage and manipulation of code points that are problematic
in some situations.  Hence, the default actions for these functions has
been complemented to allow these code points.  The new flags are
documented in perlapi.  Code that requires the problematic code
points to be rejected needs to change to use these flags.  Some flag
names are retained for backward source compatibility, though they do
nothing, as they are now the default.  However the flags
\&\f(CW\*(C`UNICODE_ALLOW_FDD0\*(C'\fR, \f(CW\*(C`UNICODE_ALLOW_FFFF\*(C'\fR, \f(CW\*(C`UNICODE_ILLEGAL\*(C'\fR, and
\&\f(CW\*(C`UNICODE_IS_ILLEGAL\*(C'\fR have been removed, as they stem from a
fundamentally broken model of how the Unicode non-character code points
should be handled, which is now described in
\&\*(L"Non-character code points\*(R" in perlunicode.  See also \*(L"Selected Bug Fixes\*(R".
.IP "\(bu" 4
Certain shared flags in the \f(CW\*(C`pmop.op_pmflags\*(C'\fR and \f(CW\*(C`regexp.extflags\*(C'\fR
structures have been removed.  These are: \f(CW\*(C`Rxf_Pmf_LOCALE\*(C'\fR,
\&\f(CW\*(C`Rxf_Pmf_UNICODE\*(C'\fR, and \f(CW\*(C`PMf_LOCALE\*(C'\fR.  Instead there are encodes and
three static in-line functions for accessing the information:
\&\f(CW\*(C`get_regex_charset()\*(C'\fR, \f(CW\*(C`set_regex_charset()\*(C'\fR, and \f(CW\*(C`get_regex_charset_name()\*(C'\fR,
which are defined in the places where the original flags were.
.IP "\(bu" 4
A new option has been added to \f(CW\*(C`pv_escape\*(C'\fR to dump all characters above
\&\s-1ASCII\s0 in hexadecimal. Before, one could get all characters as hexadecimal
or the Latin1 non-ASCII as octal
.IP "\(bu" 4
Generate pp_* prototypes in pp_proto.h, and remove pp.sym
.Sp
Eliminate the #define pp_foo Perl_pp_foo(pTHX) macros, and update the 13
locations that relied on them.
.Sp
regen/opcode.pl now generates prototypes for the \s-1PP\s0 functions directly, into
pp_proto.h. It no longer writes pp.sym, and regen/embed.pl no longer reads
this, removing the only ordering dependency in the regen scripts. opcode.pl
is now responsible for prototypes for pp_* functions. (embed.pl remains
responsible for ck_* functions, reading from regen/opcodes)
.SH "Selected Bug Fixes"
.IX Header "Selected Bug Fixes"
.IP "\(bu" 4
The handling of Unicode non-characters has changed.
Previously they were mostly considered illegal, except that only one of
the 66 of them was known about in places.  The Unicode standard
considers them legal, but forbids the \*(L"open interchange\*(R" of them.
This is part of the change to allow the internal use of any code point
(see \*(L"Core Enhancements\*(R").  Together, these changes resolve
# 38722 <https://rt.perl.org/rt3/Ticket/Display.html?id=38722>,
# 51918 <http://rt.perl.org/rt3/Ticket/Display.html?id=51918>,
# 51936 <http://rt.perl.org/rt3/Ticket/Display.html?id=51936>,
# 63446 <http://rt.perl.org/rt3/Ticket/Display.html?id=63446>
.IP "\(bu" 4
Sometimes magic (ties, tainted, etc.) attached to variables could cause an
object to last longer than it should, or cause a crash if a tied variable
were freed from within a tie method. These have been fixed
[perl #81230] <http://rt.perl.org/rt3/Public/Bug/Display.html?id=81230>.
.IP "\(bu" 4
Most I/O functions were not warning for unopened handles unless the
\&'closed' and 'unopened' warnings categories were both enabled. Now only
\&\f(CW\*(C`use warnings \*(Aqunopened\*(Aq\*(C'\fR is necessary to trigger these warnings (as was
always meant to be the case.
.IP "\(bu" 4
\&\f(CW\*(C`<expr>\*(C'\fR always respects overloading now if the expression is
overloaded.
.Sp
Due to the way that '<> as glob' was parsed differently from
\&'<> as filehandle' from 5.6 onwards, something like \f(CW\*(C`<$foo[0]>\*(C'\fR did
not handle overloading, even if \f(CW$foo[0]\fR was an overloaded object. This
was contrary to the documentation for overload, and meant that \f(CW\*(C`<>\*(C'\fR
could not be used as a general overloaded iterator operator.
.IP "\(bu" 4
Destructors on objects were not called during global destruction on objects
that were not referenced by any scalars. This could happen if an array
element were blessed (e.g., \f(CW\*(C`bless \e$a[0]\*(C'\fR) or if a closure referenced a
blessed variable (\f(CW\*(C`bless \emy @a; sub foo { @a }\*(C'\fR).
.Sp
Now there is an extra pass during global destruction to fire destructors on
any objects that might be left after the usual passes that check for
objects referenced by scalars
[perl #36347] <http://rt.perl.org/rt3/Public/Bug/Display.html?id=36347>.
.IP "\(bu" 4
A long standing bug has now been fully fixed (partial fixes came in
earlier releases), in which some Latin\-1 non-ASCII characters on
ASCII-platforms would match both a character class and its complement,
such as U+00E2 being both in \f(CW\*(C`\ew\*(C'\fR and \f(CW\*(C`\eW\*(C'\fR, depending on the
UTF\-8\-ness of the regular expression pattern and target string.
Fixing this did expose some bugs in various modules and tests that
relied on the previous behavior of \f(CW\*(C`[[:alpha:]]\*(C'\fR not ever matching
U+00FF, \*(L"\s-1LATIN\s0 \s-1SMALL\s0 \s-1LETTER\s0 Y \s-1WITH\s0 \s-1DIAERESIS\s0\*(R", even when it should, in
Unicode mode; now it does match when appropriate.
[perl #60156] <http://rt.perl.org/rt3/Ticket/Display.html?id=60156>.
.SH "Known Problems"
.IX Header "Known Problems"
.IP "\(bu" 4
The fix for [perl #81230] causes test failures for \f(CW\*(C`Tk\*(C'\fR version 804.029.
This is still being investigated.
.SH "Acknowledgements"
.IX Header "Acknowledgements"
Perl 5.13.9 represents approximately one month of development since
Perl 5.13.8 and contains approximately 48000 lines of changes across
809 files from 35 authors and committers:
.PP
Abigail, \*(AEvar Arnfjo\*:r\*(d- Bjarmason, brian d foy, Chris 'BinGOs' Williams,
Craig A. Berry, David Golden, David Leadbeater, David Mitchell, Father
Chrysostomos, Florian Ragwitz, Gerard Goossen, H.Merijn Brand, Jan
Dubois, Jerry D. Hedden, Jesse Vincent, John Peacock, Karl Williamson,
Leon Timmermans, Michael Parker, Michael Stevens, Nicholas Clark,
Nuno Carvalho, Paul \*(L"LeoNerd\*(R" Evans, Peter J. Acklam, Peter Martini,
Rainer Tammer, Reini Urban, Renee Baecker, Ricardo Signes, Robin Barker,
Tony Cook, Vadim Konovalov, Vincent Pit, Zefram, and Zsba\*'n Ambrus.
.PP
Many of the changes included in this version originated in the \s-1CPAN\s0
modules included in Perl's core. We're grateful to the entire \s-1CPAN\s0
community for helping Perl to flourish.
.SH "Reporting Bugs"
.IX Header "Reporting Bugs"
If you find what you think is a bug, you might check the articles
recently posted to the comp.lang.perl.misc newsgroup and the perl
bug database at http://rt.perl.org/perlbug/ .  There may also be
information at http://www.perl.org/ , the Perl Home Page.
.PP
If you believe you have an unreported bug, please run the perlbug
program included with your release.  Be sure to trim your bug down
to a tiny but sufficient test case.  Your bug report, along with the
output of \f(CW\*(C`perl \-V\*(C'\fR, will be sent off to perlbug@perl.org to be
analysed by the Perl porting team.
.PP
If the bug you are reporting has security implications, which make it
inappropriate to send to a publicly archived mailing list, then please send
it to perl5\-security\-report@perl.org. This points to a closed subscription
unarchived mailing list, which includes all the core committers, who be able
to help assess the impact of issues, figure out a resolution, and help
co-ordinate the release of patches to mitigate or fix the problem across all
platforms on which Perl is supported. Please only use this address for
security issues in the Perl core, not for modules independently
distributed on \s-1CPAN\s0.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
The \fIChanges\fR file for an explanation of how to view exhaustive details
on what changed.
.PP
The \fI\s-1INSTALL\s0\fR file for how to build Perl.
.PP
The \fI\s-1README\s0\fR file for general stuff.
.PP
The \fIArtistic\fR and \fICopying\fR files for copyright information.

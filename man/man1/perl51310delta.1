.\" Automatically generated by Pod::Man 2.25 (Pod::Simple 3.16)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "PERL51310DELTA 1"
.TH PERL51310DELTA 1 "2011-09-26" "perl v5.14.2" "Perl Programmers Reference Guide"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
perl51310delta \- what is new for perl v5.13.10
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
This document describes differences between the 5.13.9 release and
the 5.13.10 release.
.PP
If you are upgrading from an earlier release such as 5.13.8, first read
perl5139delta, which describes differences between 5.13.8 and
5.13.9.
.SH "Core Enhancements"
.IX Header "Core Enhancements"
.SS "The new regular expression modifiers available in suffix form"
.IX Subsection "The new regular expression modifiers available in suffix form"
Various releases of the 5.13.x series have added new regular expression
modifiers, \f(CW\*(C`/a\*(C'\fR, \f(CW\*(C`/d\*(C'\fR, \f(CW\*(C`/l\*(C'\fR, and \f(CW\*(C`/u\*(C'\fR.  They were only available in
infix form (e.g., \f(CW\*(C`(?a:...)\*(C'\fR) until this release; now they are usable
in suffix form.  This change was made too late to change all the
affected documentation, so there are a number of places that erroneously
say these must be used in infix form.
.PP
However, there is an ambiguity with the construct, \f(CW\*(C`s/foo/bar/le...\*(C'\fR.  Due
to backward compatibility constraints, in Perl 5.14 only, it will be
resolved as \f(CW\*(C`s/foo/bar/ le...\*(C'\fR, that is, as meaning to take the result
of the substitution, and see if it is stringwise less-than-or-equal-to
what follows. In Perl 5.16 and later, it will instead be resolved as
meaning to do the pattern match using the rules of the current locale,
and evaluate the rhs as an expression when doing the substitution.  In
5.14, if you want the latter interpretation, you can write \*(L"el\*(R" instead.
.ie n .SS "Add ""\ep{Titlecase}"" as a synonym for ""\ep{Title}"""
.el .SS "Add \f(CW\ep{Titlecase}\fP as a synonym for \f(CW\ep{Title}\fP"
.IX Subsection "Add p{Titlecase} as a synonym for p{Title}"
This synonym is added for symmetry with the Unicode property names
\&\f(CW\*(C`\ep{Uppercase}\*(C'\fR and \f(CW\*(C`\ep{Lowercase}\*(C'\fR.
.ie n .SS "New regular expression modifier option ""/aa"""
.el .SS "New regular expression modifier option \f(CW/aa\fP"
.IX Subsection "New regular expression modifier option /aa"
Doubling the \f(CW\*(C`/a\*(C'\fR regular expression modifier increases its effect,
so that in case-insensitive matching, no \s-1ASCII\s0 character will match a
non-ASCII character.  For example, normally,
.PP
.Vb 1
\&    \*(Aqk\*(Aq =~ /\eN{KELVIN SIGN}/i
.Ve
.PP
will match; it won't under \f(CW\*(C`/aa\*(C'\fR.
.SS "New warnings categories for problematic (non\-)Unicode code points."
.IX Subsection "New warnings categories for problematic (non-)Unicode code points."
Three new warnings subcategories of <utf8> have been added.  These
allow you to turn off warnings for their covered events, while allowing
the other \s-1UTF\-8\s0 warnings to remain on.  The three categories are:
\&\f(CW\*(C`surrogate\*(C'\fR when \s-1UTF\-16\s0 surrogates are encountered;
\&\f(CW\*(C`nonchar\*(C'\fR when Unicode non-character code points are encountered;
and \f(CW\*(C`non_unicode\*(C'\fR when code points that are above the legal Unicode
maximum of 0x10FFFF are encountered.
.SH "Incompatible Changes"
.IX Header "Incompatible Changes"
.ie n .SS "Most ""\ep{}"" properties are now immune from case-insensitive matching"
.el .SS "Most \f(CW\ep{}\fP properties are now immune from case-insensitive matching"
.IX Subsection "Most p{} properties are now immune from case-insensitive matching"
For most Unicode properties, it doesn't make sense to have them match
differently under \f(CW\*(C`/i\*(C'\fR case-insensitive matching than not.  And doing
so leads to unexpected results and potential security holes.  For
example
.PP
.Vb 1
\& m/\ep{ASCII_Hex_Digit}+/i
.Ve
.PP
could previously match non-ASCII characters because of the Unicode
matching rules.  There were a number of bugs in this feature until an
earlier release in the 5.13 series.  Now this release reverts, and
removes the feature completely except for the few properties where
people have come to expect it, namely the ones where casing is an
integral part of their functionality, such as \f(CW\*(C`m/\ep{Uppercase}/i\*(C'\fR and
\&\f(CW\*(C`m/\ep{Lowercase}/i\*(C'\fR, both of which match the exact same code points,
namely those matched by \f(CW\*(C`m/\ep{Cased}/i\*(C'\fR.  Details are in
\&\*(L"Unicode Properties\*(R" in perlrecharclass.
.PP
User-defined property handlers that need to match differently under
\&\f(CW\*(C`/i\*(C'\fR must change to read the new boolean parameter passed it which is
non-zero if case-insensitive matching is in effect; 0 if not.  See
\&\*(L"User-Defined Character Properties\*(R" in perluniprops.
.SS "regex: \ep{} in pattern implies Unicode semantics"
.IX Subsection "regex: p{} in pattern implies Unicode semantics"
Now, a Unicode property match specified in the pattern will indicate
that the pattern is meant for matching according to Unicode rules
(e40e74f)
.SS "add \fIGvCV_set()\fP and \fIGvGP_set()\fP macros and change \fIGvGP()\fP"
.IX Subsection "add GvCV_set() and GvGP_set() macros and change GvGP()"
This allows a future commit to eliminate some backref magic between \s-1GV\s0
and CVs, which will require complete control over assignment to the
gp_cv slot.
.PP
If you've been using \fIGvGP()\fR in lvalue context this change will break
your code, you should use \fIGvGP_set()\fR instead. (c43ae56)
.SS "_swash_inversion_hash is no longer exported as part of the \s-1API\s0"
.IX Subsection "_swash_inversion_hash is no longer exported as part of the API"
This function shouldn't be called from \s-1XS\s0 code. (4c2e113)
.SS "Unreferenced objects in global destruction"
.IX Subsection "Unreferenced objects in global destruction"
The fix for [perl #36347], which made sure that destructors were called on
unreferenced objects, broke the tests for three \s-1CPAN\s0 modules, which
apparently rely on the bug.
.PP
To provide more time for fixing them (as this is such a minor bug), we
have reverted the fix until after perl 5.14.0.
.PP
This resolves [perl #82542] and other related tickets.
.ie n .SS """close"" on shared pipes"
.el .SS "\f(CWclose\fP on shared pipes"
.IX Subsection "close on shared pipes"
The \f(CW\*(C`close\*(C'\fR function no longer waits for the child process to exit if the
underlying file descriptor is still in use by another thread, to avoid
deadlocks. It returns true in such cases.
.SH "Deprecations"
.IX Header "Deprecations"
.IP "Deprecated Modules" 4
.IX Item "Deprecated Modules"
The following modules will be removed from the core distribution in a
future release, and should be installed from \s-1CPAN\s0 instead. Distributions
on \s-1CPAN\s0 which require these should add them to their prerequisites. The
core versions of these modules warnings will issue a deprecation warning.
.Sp
If you ship a packaged version of Perl, either alone or as part of a
larger system, then you should carefully consider the repercussions of
core module deprecations. You may want to consider shipping your default
build of Perl with packages for some or all deprecated modules which
install into \f(CW\*(C`vendor\*(C'\fR or \f(CW\*(C`site\*(C'\fR perl library directories. This will
inhibit the deprecation warnings.
.Sp
Alternatively, you may want to consider patching \fIlib/deprecate.pm\fR
to provide deprecation warnings specific to your packaging system
or distribution of Perl, consistent with how your packaging system
or distribution manages a staged transition from a release where the
installation of a single package provides the given functionality, to
a later release where the system administrator needs to know to install
multiple packages to get that same functionality.
.Sp
You can silence these deprecation warnings by installing the modules
in question from \s-1CPAN\s0.  To install the latest version of all of them,
just install \f(CW\*(C`Task::Deprecations::5_14\*(C'\fR.
.RS 4
.IP "Devel::DProf" 4
.IX Item "Devel::DProf"
We strongly recommend that you install and used Devel::NYTProf in
preference, as it offers significantly improved profiling and reporting.
.RE
.RS 4
.RE
.SS "User-defined case-mapping"
.IX Subsection "User-defined case-mapping"
This feature is being deprecated due to its many issues, as documented in
\&\*(L"User-Defined Case Mappings (for serious hackers only)\*(R" in perlunicode.
It is planned to remove this feature in Perl 5.16.  A \s-1CPAN\s0 module
providing improved functionality is being prepared for release by the
time 5.14 is.
.SH "Modules and Pragmata"
.IX Header "Modules and Pragmata"
.SS "New Modules and Pragmata"
.IX Subsection "New Modules and Pragmata"
.IP "\(bu" 4
\&\f(CW\*(C`CPAN::Meta\*(C'\fR version 2.110440 has been added as a dual-life module. It
provides a standard library to read, interpret and write \s-1CPAN\s0 distribution
metadata files (e.g. \s-1META\s0.json and \s-1META\s0.yml) which describes a
distribution, its contents, and the requirements for building it and
installing it. The latest \s-1CPAN\s0 distribution metadata specification is
included as \f(CW\*(C`CPAN::Meta::Spec\*(C'\fR and notes on changes in the specification
over time are given in \f(CW\*(C`CPAN::Meta::History\*(C'\fR.
.IP "\(bu" 4
\&\f(CW\*(C`Version::Requirements\*(C'\fR version 0.101020 has been added as a dual-life
module.  It provides a standard library to model and manipulates module
prerequisites and version constraints as defined in the CPAN::Meta::Spec.
.SS "Updated Modules and Pragmata"
.IX Subsection "Updated Modules and Pragmata"
.IP "\(bu" 4
\&\f(CW\*(C`B\*(C'\fR has been upgraded from version 1.27 to 1.28.
.IP "\(bu" 4
\&\f(CW\*(C`Carp\*(C'\fR has been upgraded from version 1.19 to 1.20.
.Sp
[perl #82854] It now avoids using regular expressions that cause perl to
load its Unicode tables, in order to avoid the '\s-1BEGIN\s0 not safe after
errors' error that will ensue if there has been a syntax error.
.IP "\(bu" 4
\&\f(CW\*(C`CGI\*(C'\fR has been upgraded from version 3.51 to 3.52
.IP "\(bu" 4
\&\f(CW\*(C`CPAN\*(C'\fR has been upgraded from version 1.94_64 to 1.94_65
.Sp
Includes support for \s-1META\s0.json and \s-1MYMETA\s0.json.
.IP "\(bu" 4
\&\f(CW\*(C`CPANPLUS\*(C'\fR has been upgraded from version 0.9011 to 0.9101
.Sp
Includes support for \s-1META\s0.json and \s-1MYMETA\s0.json and a change to
using Digest::SHA for \s-1CPAN\s0 checksums.
.IP "\(bu" 4
\&\f(CW\*(C`deprecate\*(C'\fR has been upgraded from version 0.01 to 0.02.
.IP "\(bu" 4
\&\f(CW\*(C`diagnostics\*(C'\fR has been upgraded from version 1.21 to 1.22.
.Sp
It now renders pod links slightly better, and has been taught to find
descriptions for messages that share their descriptions with other
messages.
.IP "\(bu" 4
\&\f(CW\*(C`Devel::DProf\*(C'\fR has been upgraded from version 20080331.00 to 20110217.00.
.Sp
Merely loading \f(CW\*(C`Devel::DProf\*(C'\fR now no longer triggers profiling to start.
\&\f(CW\*(C`use Devel::DProf\*(C'\fR and \f(CW\*(C`perl \-d:DProf ...\*(C'\fR still behave as before and start
the profiler.
.Sp
\&\s-1NOTE:\s0 \f(CW\*(C`Devel::DProf\*(C'\fR is deprecated and will be removed from a future
version of Perl. We strongly recommend that you install and use
Devel::NYTProf instead, as it offers significantly improved
profiling and reporting.
.IP "\(bu" 4
\&\f(CW\*(C`DynaLoader\*(C'\fR has been upgraded from version 1.12 to 1.13.
.Sp
[perl #84358] It no longer inherits from AutoLoader; hence it no longer
produces weird error messages for unsuccessful method calls on classes that
inherit from DynaLoader.
.IP "\(bu" 4
\&\f(CW\*(C`IO::Select\*(C'\fR has been upgraded from version 1.17 to 1.18.
.Sp
It now allows IO::Handle objects (and objects in derived classes) to be
removed from an IO::Select set even if the underlying file descriptor is
closed or invalid.
.IP "\(bu" 4
\&\f(CW\*(C`IPC::Cmd\*(C'\fR has been upgraded from version 0.68 to 0.70
.IP "\(bu" 4
\&\f(CW\*(C`HTTP::Tiny\*(C'\fR has been upgraded from version 0.009 to 0.010
.IP "\(bu" 4
\&\f(CW\*(C`Math::BigInt\*(C'\fR has been upgraded from version 1.99_04 to 1.992.
.IP "\(bu" 4
\&\f(CW\*(C`Module::Build\*(C'\fR has been upgraded from version 0.3607 to 0.37_05.
.Sp
A notable change is the deprecation of several modules.
Module::Build::Version has been deprecated and Module::Build now relies
directly upon version.  Module::Build::ModuleInfo has been deprecated in
favor of a standalone copy of it called Module::Metadata.
Module::Build::YAML has been deprecated in favor of CPAN::Meta::YAML.
.Sp
Module::Build now also generates \s-1META\s0.json and \s-1MYMETA\s0.json files
in accordance with version 2 of the \s-1CPAN\s0 distribution metadata specification,
CPAN::Meta::Spec.  The older format \s-1META\s0.yml and \s-1MYMETA\s0.yml files are
still generated, as well.
.IP "\(bu" 4
\&\f(CW\*(C`Module::Load::Conditional\*(C'\fR has been upgraded from version 0.40 to 0.44
.IP "\(bu" 4
\&\f(CW\*(C`Module::Metadata\*(C'\fR has been upgraded from version 1.000003 to 1.000004.
.IP "\(bu" 4
\&\f(CW\*(C`overload\*(C'\fR has been upgraded from version 1.12 to 1.13.
.Sp
The documentation has greatly improved. See \*(L"Documentation\*(R" below.
.IP "\(bu" 4
\&\f(CW\*(C`Parse::CPAN::Meta\*(C'\fR has been upgraded from version 1.40 to 1.4401.
.Sp
The latest Parse::CPAN::Meta can now read \s-1YAML\s0 or \s-1JSON\s0 files using
CPAN::Meta::YAML and \s-1JSON::PP\s0, which are now part of the Perl core.
.IP "\(bu" 4
\&\f(CW\*(C`re\*(C'\fR has been upgraded from version 0.16 to 0.17.
.Sp
It now supports the double-a flag: \f(CW\*(C`use re \*(Aq/aa\*(Aq;\*(C'\fR
.Sp
The \f(CW\*(C`regmust\*(C'\fR function used to crash when called on a regular expression
belonging to a pluggable engine. Now it has been disabled for those.
.Sp
\&\f(CW\*(C`regmust\*(C'\fR no longer leaks memory.
.IP "\(bu" 4
\&\f(CW\*(C`Term::UI\*(C'\fR has been upgraded from version 0.24 to 0.26
.IP "\(bu" 4
\&\f(CW\*(C`Unicode::Collate\*(C'\fR has been upgraded from version 0.68 to 0.72
.Sp
This also sees the switch from using the pure-perl version of this
module to the \s-1XS\s0 version.`
.IP "\(bu" 4
\&\f(CW\*(C`VMS::DCLsym\*(C'\fR has been upgraded from version 1.04 to 1.05.
.Sp
Two bugs have been fixed [perl #84086]:
.Sp
The symbol table name was lost when tying a hash, due to a thinko in
\&\f(CW\*(C`TIEHASH\*(C'\fR. The result was that all tied hashes interacted with the
local symbol table.
.Sp
Unless a symbol table name had been explicitly specified in the call
to the constructor, querying the special key ':LOCAL' failed to
identify objects connected to the local symbol table.
.IP "\(bu" 4
Added new function \f(CW\*(C`Unicode::UCD::num()\*(C'\fR.  This function will return the
numeric value of the string passed it; \f(CW\*(C`undef\*(C'\fR if the string in its
entirety has no safe numeric value.
.Sp
To be safe, a string must be a single character which has a numeric
value, or consist entirely of characters that match \ed, coming from the
same Unicode block of digits.  Thus, a mix of  Bengali and Western
digits would be considered unsafe, as well as a mix of half\- and
full-width digits, but strings consisting entirely of Devanagari digits
or of \*(L"Mathematical Bold\*(R" digits would would be safe.
.IP "\(bu" 4
\&\f(CW\*(C`CPAN\*(C'\fR has been upgraded from version 1.94_63 to 1.94_64.
.SH "Documentation"
.IX Header "Documentation"
.SS "Changes to Existing Documentation"
.IX Subsection "Changes to Existing Documentation"
\fIoverload\fR
.IX Subsection "overload"
.IP "\(bu" 4
overload's documentation has practically undergone a rewrite. It
is now much more straightforward and clear.
.PP
\fIperlhack and perlrepository\fR
.IX Subsection "perlhack and perlrepository"
.IP "\(bu" 4
The perlhack and perlrepository documents have been heavily edited and
split up into several new documents.
.Sp
The perlhack document is now much shorter, and focuses on the Perl 5
development process and submitting patches to Perl. The technical content has
been moved to several new documents, perlsource, perlinterp,
perlhacktut, and perlhacktips. This technical content has only been
lightly edited.
.Sp
The perlrepository document has been renamed to perlgit. This new document
is just a how-to on using git with the Perl source code. Any other content
that used to be in perlrepository has been moved to perlhack.
.PP
\fIperlfunc\fR
.IX Subsection "perlfunc"
.IP "\(bu" 4
The documentation for the \f(CW\*(C`map\*(C'\fR function now contains more examples,
see \fBperldoc \-f map\fR (f947627)
.PP
\fIperlfaq4\fR
.IX Subsection "perlfaq4"
.IP "\(bu" 4
Examples in perlfaq4 have been updated to show the use of
Time::Piece. (9243591)
.PP
\fIMiscellaneous\fR
.IX Subsection "Miscellaneous"
.IP "\(bu" 4
Many \s-1POD\s0 related \s-1RT\s0 bugs and other issues which are too numerous to
enumerate have been solved by Michael Stevens.
.SH "Diagnostics"
.IX Header "Diagnostics"
The following additions or changes have been made to diagnostic output,
including warnings and fatal error messages.  For the complete list of
diagnostic messages, see perldiag.
.SS "New Diagnostics"
.IX Subsection "New Diagnostics"
.ie n .IP """\eb{"" is deprecated; use ""\eb\e{"" instead" 4
.el .IP "``\eb{'' is deprecated; use ``\eb\e{'' instead" 4
.IX Item "b{ is deprecated; use b{ instead"
.PD 0
.ie n .IP """\eB{"" is deprecated; use ""\eB\e{"" instead" 4
.el .IP "``\eB{'' is deprecated; use ``\eB\e{'' instead" 4
.IX Item "B{ is deprecated; use B{ instead"
.PD
Use of an unescaped \*(L"{\*(R" immediately following a \f(CW\*(C`\eb\*(C'\fR or \f(CW\*(C`\eB\*(C'\fR is now
deprecated so as to reserve its use for Perl itself in a future release.
.IP "regcomp: Add warning if \ep is used under locale. (fb2e24c)" 4
.IX Item "regcomp: Add warning if p is used under locale. (fb2e24c)"
\&\f(CW\*(C`\ep\*(C'\fR implies Unicode matching rules, which are likely going to be
different than the locale's.
.IP "panic: gp_free failed to free glob pointer \- something is repeatedly re-creating entries" 4
.IX Item "panic: gp_free failed to free glob pointer - something is repeatedly re-creating entries"
This new error is triggered if a destructor called on an object in a
typeglob that is being freed creates a new typeglob entry containing an
object with a destructor that creates a new entry containing an object....
.ie n .IP "refcnt: fd %d%s" 4
.el .IP "refcnt: fd \f(CW%d\fR%s" 4
.IX Item "refcnt: fd %d%s"
This new error only occurs if a internal consistency check fails when a
pipe is about to be closed.
.SS "Changes to Existing Diagnostics"
.IX Subsection "Changes to Existing Diagnostics"
.IP "\(bu" 4
The warning message about regex unrecognized escapes passed through is
changed to include any literal '{' following the 2\-char escape.  e.g.,
\&\*(L"\eq{\*(R" will include the { in the message as part of the escape
(216bfc0).
.IP "\(bu" 4
\&\f(CW\*(C`binmode $fh, \*(Aq:scalar\*(Aq\*(C'\fR no longer warns (8250589)
.Sp
Perl will now no longer produce this warning:
.Sp
.Vb 2
\&    $ perl \-we \*(Aqopen my $f, ">", \emy $x; binmode $f, "scalar"\*(Aq
\&    Use of uninitialized value in binmode at \-e line 1.
.Ve
.SH "Utility Changes"
.IX Header "Utility Changes"
\fIperlbug\fR
.IX Subsection "perlbug"
.IP "\(bu" 4
[perl #82996] Use the user's from address as return-path in perlbug
.Sp
Many systems these days don't have a valid Internet domain name and
perlbug@perl.org does not accept email with a return-path that does
not resolve. Therefore pass the user's address to sendmail so it's
less likely to get stuck in a mail queue somewhere. (019cfd2)
.SH "Configuration and Compilation"
.IX Header "Configuration and Compilation"
.IP "\(bu" 4
make reg_eval_scope.t TODOs consistently fail (daaf7ac)
.Sp
Some of the \s-1TODO\s0 tests in reg_eval_scope.t spuriously passed under
non-threaded builds. Make the tests harder so they always fail.
.Sp
Since one of the key bugs in (?{..}) is the trashing of the parent pad,
add some extra lexical vars to the parent scope and check they're still
there at the end.
.IP "\(bu" 4
Stop EU::CBuilder's tests from failing in parallel (cbf59d5)
.Sp
It used to use the same paths for temporary files in all tests. This
blew up randomly when the tests were run in parallel.
.SH "Testing"
.IX Header "Testing"
.IP "\(bu" 4
\&\fIporting/FindExt.t\fR now skips all tests on a static (\-Uusedl) build
of perl.
.IP "\(bu" 4
\&\fIporting/FindExt.t\fR now passes on non\-Win32 platforms when some
extensions are built statically.
.SH "Platform Support"
.IX Header "Platform Support"
.SS "Platform-Specific Notes"
.IX Subsection "Platform-Specific Notes"
.IP "Windows" 4
.IX Item "Windows"
.RS 4
.PD 0
.IP "\(bu" 4
.PD
The \f(CW\*(C`test\-prep\*(C'\fR build target now depends on \fIpod/perltoc.pod\fR to allow the
\&\fIt/porting/buildtoc.t\fR test to run successfully.
.RE
.RS 4
.RE
.IP "MirBSD" 4
.IX Item "MirBSD"
.RS 4
.PD 0
.IP "\(bu" 4
.PD
[perl #82988] Skip hanging taint.t test on MirBSD 10 (1fb83d0)
.Sp
Skip a hanging test under MirBSD that was already being skipped under
OpenBSD.
.IP "\(bu" 4
Previously if you build perl with a shared libperl.so on MirBSD (the
default config), it will work up to the installation; however, once
installed, it will be unable to find libperl. Treat path handling
like in the other \s-1BSD\s0 dialects.
.RE
.RS 4
.RE
.SH "Internal Changes"
.IX Header "Internal Changes"
.IP "\(bu" 4
Fix harmless invalid read in \fIPerl_re_compile()\fR (f6d9469)
.Sp
[perl #2460] described a case where electric fence reported an invalid
read. This could be reproduced under valgrind with blead and \-e'/x/',
but only on a non-debugging build.
.Sp
This was because it was checking for certain pairs of nodes (e.g. \s-1BOL\s0 + \s-1END\s0)
and wasn't allowing for \s-1EXACT\s0 nodes, which have the string at the next
node position when using a naive \s-1NEXTOPER\s0(first). In the non-debugging
build, the nodes aren't initialised to zero, and a 1\-char \s-1EXACT\s0 node isn't
long enough to spill into the type field of the \*(L"next node\*(R".
.Sp
Fix this by only using \s-1NEXTOPER\s0(first) when we know the first node is
kosher.
.IP "\(bu" 4
Break out the generated function \fIPerl_keywords()\fR into \fIkeywords.c\fR, a new file. (26ea9e1)
.Sp
As it and \fIPerl_yylex()\fR both need \s-1FEATURE_IS_ENABLED\s0, \fIfeature_is_enabled()\fR is
no longer static, and the two macro definitions move from toke.c to perl.h
.Sp
Previously, one had to cut and paste the output of perl_keywords.pl into the
middle of toke.c, and it was not clear that it was generated code.
.IP "\(bu" 4
A lot of tests have been ported from Test to Test::More, e.g. in
3842ad6.
.IP "\(bu" 4
Increase default PerlIO buffer size. (b83080d)
.Sp
The previous default size of a PerlIO buffer (4096 bytes) has been increased
to the larger of 8192 bytes and your local \s-1BUFSIZ\s0.  Benchmarks show that doubling
this decade-old default increases read and write performance in the neighborhood
of 25% to 50% when using the default layers of perlio on top of unix.  To choose
a non-default size, such as to get back the old value or to obtain and even
larger value, configure with:
.Sp
.Vb 1
\&     ./Configure \-Accflags=\-DPERLIOBUF_DEFAULT_BUFSIZ=N
.Ve
.Sp
where N is the desired size in bytes; it should probably be a multiple of
your page size.
.SH "Selected Bug Fixes"
.IX Header "Selected Bug Fixes"
.IP "\(bu" 4
A Unicode \f(CW\*(C`\ep{}\*(C'\fR property match in a regular expression pattern will
now force Unicode rules for the rest of the regular expression
.IP "\(bu" 4
[perl #38456] binmode \s-1FH\s0, \*(L":crlf\*(R" only modifies top crlf layer (7826b36)
.Sp
When pushed on top of the stack, crlf will no longer enable crlf layers
lower in the stack. This will prevent unexpected results.
.IP "\(bu" 4
Fix 'raw' layer for \s-1RT\s0 #80764 (ecfd064)
.Sp
Made a ':raw' open do what it advertises to do (first open the file,
then binmode it), instead of leaving off the top layer.
.IP "\(bu" 4
Use PerlIOBase_open for pop, utf8 and bytes layers (c0888ac)
.Sp
Three of Perl's builtin PerlIO layers (\f(CW\*(C`:pop\*(C'\fR, \f(CW\*(C`:utf8\*(C'\fR and
\&\f(CW\*(C`:bytes\*(C'\fR) didn't allow stacking when opening a file. For example
this:
.Sp
.Vb 1
\&    open FH, \*(Aq>:pop:perlio\*(Aq, \*(Aqsome.file\*(Aq or die $!;
.Ve
.Sp
Would throw an error: \*(L"Invalid argument\*(R". This has been fixed in this
release.
.IP "\(bu" 4
An issue present since 5.13.1, where s/A/B/ with A utf8 and B
non\-utf8, could cause corruption or segfaults has been
fixed. (c95ca9b)
.IP "\(bu" 4
String evals will no longer fail after 2 billion scopes have been
compiled (d1bfb64, 2df5bdd, 0d311cd and 6012dc8)
.IP "\(bu" 4
[perl #81750] When strict 'refs' mode is off,
\&\f(CW\*(C`%{...}\*(C'\fR in rvalue context returns \f(CW\*(C`undef\*(C'\fR if
its argument is undefined. An optimisation introduced in perl 5.12.0 to
make \f(CW\*(C`keys %{...}\*(C'\fR faster when used as a boolean did not take this into
account, causing \f(CW\*(C`keys %{+undef}\*(C'\fR (and \f(CW\*(C`keys %$foo\*(C'\fR when \f(CW$foo\fR is
undefined) to be an error, which it should only be in strict mode.
.IP "\(bu" 4
[perl #83194] Combining the vector (%v) flag and dynamic precision would
cause sprintf to confuse the order of its arguments, making it treat the
string as the precision and vice versa.
.IP "\(bu" 4
[perl #77692] Sometimes the \s-1UTF8\s0 length cache would not be reset on a value
returned by substr, causing \f(CW\*(C`length(substr($uni_string,...))\*(C'\fR to give
wrong answers. With \f(CW\*(C`${^UTF8CACHE}\*(C'\fR set to \-1, it would produce a 'panic'
error message, too.
.IP "\(bu" 4
During the restoration of a localised typeglob on scope exit, any
destructors called as a result would be able to see the typeglob in an
inconsistent state, containing freed entries, which could result in a
crash. This would affect code like this:
.Sp
.Vb 5
\&  local *@;
\&  eval { die bless [] }; # puts an object in $@
\&  sub DESTROY {
\&    local $@; # boom
\&  }
.Ve
.Sp
Now the glob entries are cleared before any destructors are called. This
also means that destructors can vivify entries in the glob. So perl tries
again and, if the entries are re-created too many times, dies with a
\&'panic: gp_free...' error message.
.IP "\(bu" 4
[perl #78494] When pipes are shared between threads, the \f(CW\*(C`close\*(C'\fR function
(and any implicit close, such as on thread exit) no longer blocks.
.IP "\(bu" 4
Several contexts no longer allow a Unicode character to begin a word
that should never begin words, for an example an accent that must follow
another character previously could precede all other characters.
.IP "\(bu" 4
Case insensitive matching in regular expressions compiled under \f(CW\*(C`use
locale\*(C'\fR now works much more sanely when the pattern and/or target string
are encoded in \s-1UTF\-8\s0.  Previously, under these conditions the localeness
was completely lost.  Now, code points above 255 are treated as Unicode,
but code points between 0 and 255 are treated using the current locale
rules, regardless of whether the pattern or string are encoded in \s-1UTF\-8\s0.
The few case insensitive matches that cross the 255/256 boundary are not
allowed.  For example, 0xFF does not caselessly match the character at
0x178, \s-1LATIN\s0 \s-1CAPITAL\s0 \s-1LETTER\s0 Y \s-1WITH\s0 \s-1DIAERESIS\s0, because 0xFF may not be
\&\s-1LATIN\s0 \s-1SMALL\s0 \s-1LETTER\s0 Y in the current locale, and Perl has no way of
knowing if that character even exists in the locale, much less what code
point it is.
.SH "Acknowledgements"
.IX Header "Acknowledgements"
Perl 5.13.10 represents approximately one month of development since
Perl 5.13.9 and contains approximately 63000 lines of changes across
609 files from 38 authors and committers:
.PP
Abigail, Alexander Hartmaier, brian d foy, Charles Bailey, Chip
Salzenberg, Chris 'BinGOs' Williams, Craig A. Berry, Curtis Jewell,
Dave Rolsky, David Golden, David Leadbeater, David Mitchell, David
Wheeler, Father Chrysostomos, Florian Ragwitz, Franz Fasching, George
Greer, H.Merijn Brand, Hongwen Qiu, Hugo van der Sanden, Jay Hannah,
Jesse Vincent, Karl Williamson, Larwan Berke, Leon Timmermans, Michael
Breen, Michael Stevens, Nicholas Clark, Noirin Shirley, Paul Evans,
Peter John Acklam, Ricardo Signes, Robin Barker, Steven Schubiger, Tom
Christiansen, Tony Cook, Zsba\*'n Ambrus and \*(AEvar Arnfjo\*:r\*(d- Bjarmason
.SH "Reporting Bugs"
.IX Header "Reporting Bugs"
If you find what you think is a bug, you might check the articles
recently posted to the comp.lang.perl.misc newsgroup and the perl
bug database at http://rt.perl.org/perlbug/ .  There may also be
information at http://www.perl.org/ , the Perl Home Page.
.PP
If you believe you have an unreported bug, please run the perlbug
program included with your release.  Be sure to trim your bug down
to a tiny but sufficient test case.  Your bug report, along with the
output of \f(CW\*(C`perl \-V\*(C'\fR, will be sent off to perlbug@perl.org to be
analysed by the Perl porting team.
.PP
If the bug you are reporting has security implications, which make it
inappropriate to send to a publicly archived mailing list, then please send
it to perl5\-security\-report@perl.org. This points to a closed subscription
unarchived mailing list, which includes all the core committers, who be able
to help assess the impact of issues, figure out a resolution, and help
co-ordinate the release of patches to mitigate or fix the problem across all
platforms on which Perl is supported. Please only use this address for
security issues in the Perl core, not for modules independently
distributed on \s-1CPAN\s0.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
The \fIChanges\fR file for an explanation of how to view exhaustive details
on what changed.
.PP
The \fI\s-1INSTALL\s0\fR file for how to build Perl.
.PP
The \fI\s-1README\s0\fR file for general stuff.
.PP
The \fIArtistic\fR and \fICopying\fR files for copyright information.
